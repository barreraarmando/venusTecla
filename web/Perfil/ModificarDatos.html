<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <link rel="shortcut icon" type="image/x-icon" href="../Img/logo3.png">
        <link rel="stylesheet" href="../css/menuA.css" type="text/css"/>
        <link href="../css/Chats/nuevoChat.css" rel="stylesheet" type="text/css"/>
        <link href="../css/General.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="../css/menu.css" type="text/css">
        <link href="../css/desplegable.css" rel="stylesheet" type="text/css"/>
        <script src="../JS/desplegar.js" type="text/javascript"></script>
        <link href="../css/botones.css" rel="stylesheet" type="text/css"/>
        <link href="https://fonts.googleapis.com/css?family=Montserrat|Raleway|Lobster+Two|Pacifico" rel="stylesheet">
        <link rel="stylesheet" href="../font-Awesome/css/font-awesome.min.css" type="text/css"/>
        <script src="../JS/Validacion.js" type="text/javascript"></script>
        <script src="../JS/subirArchivo.js" type="text/javascript"></script>
        <link href="../css/Perfil/cambios.css" rel="stylesheet" type="text/css"/>
        <title>Venus</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            
            var conf1=false;
            var conf2=false;
            var conf3=false;
            
            function solocadena(e)
            {
            var keynum;
            if(window.event)
                keynum = e.keyCode;
            else 
                if (e.which)
                    keynum=e.which;
            
            if ((keynum>=97&&keynum<=122) || (keynum>=65&&keynum<=90) || (keynum>=128&&keynum<=165) || keynum === 8 || keynum === 32)
                return true;
            else
                return false;
            }
            
            function validarcontra()
            {
                var contra1 = (document.getElementById("con1")).value;
                var contra2 = (document.getElementById("con2")).value;
                
                if (contra1 === "" || contra2 === ""){
                    alert("Por favor, confirma tu contraseña");
                    conf1 = false;
                    conf2 = false;
                    conf3 = false;
                }
                else{
                    if (contra1 === contra2)
                    {
                        conf1=true;
                    }
                    else
                        alert("Por favor, confirma tu contraseña");
                        conf1 = false;
                        conf2 = false;
                        conf3 = false;
                }
            }
            
            function soloCorreo()
            {
                var texto4 = document.getElementById("cajacorreo");
                var cuantos = texto4.value.length;
                var cadena=texto4.value;
                var arroba=0;
                var puntos=0;
                
                for (i=0; i<cuantos; i++)
                {
                    if (cadena.charAt(i) === "@")
                        ++ arroba;
                    if (cadena.charAt(i) === ".")
                        ++ puntos;
                }
                if ((arroba === 0 || arroba>1) || (puntos === 0 ||  puntos > 3))
                {
                    alert ("Por favor, ingresa un correo válido");
                    texto4.focus();
                    conf1 = false;
                    conf2 = false;
                    conf3 = false;
                }
                else 
                    conf2=true;
            }
            
            function soloEnteros(e)
            {
            var keynum;
            if(window.event)
                keynum = e.keyCode;
            else 
                if (e.which)
                    keynum=e.which;
            
            if ((keynum>=48&&keynum<=57) || keynum === 8)
                return true;
            else
                return false;
            }
            
            function llevar(){
                if (conf1 === true && conf2 === true && conf3 === true){
                    document.realizarcambios.submit() 
                }
            }
            
            function llenado()
            {
                var img = document.getElementById("imagen");
                var nom = document.getElementById("cajanombre");
                var ape = document.getElementById("cajaapellido");
                var correo = document.getElementById("cajacorreo");
                var con1 = document.getElementById("con1");
                var con2 = document.getElementById("con2");
                var caja1= document.getElementById("cajausuario");
                
                if (nom.value === "")
                {
                    nom.focus();
                    conf1 = false;
                    conf2 = false;
                    conf3 = false;
                }
                else
                {
                    if (ape.value === "")
                    {
                        ape.focus();
                        conf1 = false;
                        conf2 = false;
                        conf3 = false;
                    }
                    else
                    {
                        if (correo.value === "")
                        {
                            correo.focus();
                            conf1 = false;
                            conf2 = false;
                            conf3 = false;
                        }
                        else
                        {
                            if (con1.value === "")
                            {
                                con1.focus();
                                conf1 = false;
                                conf2 = false;
                                conf3 = false;
                            }
                            else
                            {
                                if (con2.value === "")
                                {
                                    con2.focus();
                                    conf1 = false;
                                    conf2 = false;
                                    conf3 = false;
                                }
                                else
                                {

                                    if (caja1.value === "")
                                    {
                                        caja1.focus();
                                        conf1 = false;
                                        conf2 = false;
                                        conf3 = false;
                                    }
                                    else
                                    {
                                        if (img.value === "")
                                        {
                                            img.focus();
                                            conf1 = false;
                                            conf2 = false;
                                            conf3 = false;
                                        }
                                        else
                                        {
                                            conf3=true; 
                                        }
                                    }   
                                }
                            }
                        }
                    }
                }
            }
        </script>                       
    </head>
    <body>
        <form name="realizarcambios" action="cambios.jsp" enctype=multipart/form-data method="POST">
        <div class="MenuA">
            <div class="Logo">
                <img src="../Img/logo3.png" alt=""/>
            </div>
            <div class="Derecha">
                <ul class="ca-menu">
                    <li class="chico">
                        <a href="Aplicacion/Aplicacion.jsp">
                            <span class="fa fa-sign-out" id="H"></span>
                            <div class="ca-content">
                                <h2 class="ca-main">Salir</h2>
                            </div>
                        </a>
                    </li>
                    <li class="grande">
                        <a href="Practica/Practica.jsp">
                            <span class="fa fa-bell" id="M"></span>
                            <div class="ca-content">
                                <h2 class="ca-main">Notificaciones</h2>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="Venus">
                Venus
            </div>
        </div>
        <div class="Menu">
        <div class="Abrir">
            <button class="bars btnMenu" id="Abrir" style="visibility: hidden" onclick="w3_open()">
                <i class="fa fa-bars"></i><p>Menú</p>
            </button>
        </div>
        <div class="container" id="mySidebar">
        <button onclick="w3_close()" class="btnMenu">
            <i class="fa fa-times" aria-hidden="true"></i><p>Cerrar</p>
        </button> 
            <nav>
                <ul class="mcd-menu">
                    <li>
                        <a href="../Plantillas/TimeLine.html">
                            <i class="fa fa-home"></i>
                            <strong>Home</strong>
                            <small>sweet home</small>
                        </a>
                    </li>
                    <li>
                        <a href="../Armario/Armario.html">
                            <i class="fa fa-female"></i>
                            <strong>Armario</strong>
                            <small>Tu tesoro personal</small>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <i class="fa fa-calendar"></i>
                            <strong>Calendario</strong>
                            <small>Agenda tu día a día</small>
                        </a>
                        <ul>
                            <li><a href="#"><i class="fa fa-refresh"></i>Ciclo</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="../Chats/Chats.html">
                            <i class="fa fa-comments-o"></i>
                            <strong>Chats</strong>
                            <small>Siéntete libre de hablar</small>
                        </a>
                        <ul>
                            <li><a href="../Chats/ChatsPublicos.html"><i class="fa fa-unlock-alt"></i>Públicos</a></li>
                            <li><a href="../Chats/ChatsPrivados.html"><i class="fa fa-lock"></i>Privados</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="../Tutoriales/Tutoriales.html">
                            <i class="fa fa-picture-o"></i>
                            <strong>Tutoriales</strong>
                            <small>Aprende algo nuevo</small>
                        </a>
                    </li>
                    <li>
                        <a href="Perfil.html"  class="active">
                            <i class="fa fa-user"></i>
                            <strong>Perfil</strong>
                            <small>Tu privacidad</small>
                        </a>
                        <ul>
                            <li><a href="MisOutfits.html"><i class="fa fa-tags"></i>Mis outfits</a></li>
                            <li><a href="Intereses.html"><i class="fa fa-heart"></i>Intereses</a></li>
                            <li><a href="Peticiones.html"><i class="fa fa-pencil"></i>Mis peticiones</a></li>
                            <li><a href="Contactos.html"><i class="fa fa-group"></i>Contactos</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
        </div>
        <div class="cuerpoNuevo">
            <p class="Pacifico fontsize60">Modificar datos</p>
            <p class="Raleway">Modifica todos los datos necesarios y da click en guardar cambios.</p>
            <div class="Usuarios DivRosa">
                Nombre
                <input type="text" class="R" name="nombre" id="cajanombre" maxlength="30" onkeypress="return solocadena(event)" required>
                Apellido(s)
                <input type="text" class="R" name="apellido" id="cajacapellido" maxlength="30" onkeypress="return solocadena(event)" required>
                Usuario
                <input type="text" class="R" name="username" id="cajausuario" maxlength="20"  required>
                Correo electrónico
                <input type="text" class="R" name="correo" id="cajacorreo" maxlength="30"  required>
                Contraseña anterior
                <input type="password" class="R" name="ContraseniaAnterior" maxlength="20"  required>
                Contraseña nueva
                <input type="password" class="R" name="ContraseniaNueva" id="con1" maxlength="20"  required>
                Confirmar nueva contraseña
                <input type="password" class="R" name="ContraseniaNuevaConf" id="con2" maxlength="20"  required>
                <span class="iborrainputfile" id="valor">
                    <i class="fa fa-upload subir"></i>
                    <p class="nada" id="texto">Seleccionar imagen perfil</p>
                    <input type="file" name="fichero" accept=".jpg, .jpeg, .png" id="imagen" onchange="cambia();" class="inputfile" required=""/>
                </span>
                <center><button type="submit" onclick="validarcontra(), solocorreo(), llevar(), llenado()">Guardar cambios</button></center>
            </div>
        </div>
        </form>
    </body>
</html>

